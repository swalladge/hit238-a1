<script id="quiz_list_template" type="text/template" class="template">
  <% _.each( rc.quizzes, function( quiz ){ %>
    <a class="ui-link ui-btn ui-shadow ui-corner-all" href="#" onclick="showQuiz(<%- quiz.id %>);"><%- quiz.name %></a>
  <% }); %>
</script>

<script id="quiz_info_template" type="text/template" class="template">
  <h2><%- rc.name %></h2>

  <p><%- rc.description %></p>

  <p>Number of questions: <%- rc.questions.length %></p>

  <a class="ui-link ui-btn ui-shadow ui-corner-all" href="#" onclick="takeQuiz(<%- rc.id %>);">Start!</a>
</script>

<script id="question_template" type="text/template" class="template">

  <h2>Question <%- rc.current %> of <%- rc.max %></h2>

  <p><%- rc.q.q %></p>

  <form id="quiz-option-form" name="quiz-option-form">
    <input type="radio" name="quiz-option" id="answer-0" value="0" <% if ((rc.saved_answers && rc.saved_answers[rc.current-1] == 0) || !rc.saved_answers) { %>checked<% } %> />
    <label class="radio-label" for="answer-0"> Don't know... </label>
  <% var count=1; _.each( rc.q.options, function( option ){ %>
    <input type="radio" name="quiz-option" id="answer-<%- count %>" value="<%- count %>" <% if (rc.saved_answers && rc.saved_answers[rc.current-1] == count) { %>checked<% } %> />
    <label class="radio-label" for="answer-<%- count %>"> <%- option %> </label>
  <% ++count; }); %>
  </form>


  <a class="ui-btn ui-icon-arrow-r ui-btn-icon-right ui-link ui-btn ui-shadow ui-corner-all" href="#" onclick="submitQuestion(<%- rc.id %>);">Submit Answer</a>
</script>

<script id="results_template" type="text/template" class="template">

  <h2>Results</h2>
  <% var total = rc.results.correct_answers.length; var correct = 0; %>
  <% for (var i=0; i<rc.results.correct_answers.length; ++i) { %>
    <% var ans = ''; var ansIndex = rc.results.last_answers[i]-1; if (ansIndex == -1) { ans = "Don't know..."; } else { ans = rc.quiz.questions[i].options[ansIndex]; } %>
    <% var cor_ans = rc.quiz.questions[i].options[rc.results.correct_answers[i]-1]; var cor_ansIndex = rc.results.correct_answers[i]-1%>
    <div class="result">
    <h3>Q<%- i+1 %></h3>
    <p><%- rc.quiz.questions[i].q %></p>
    <p> Correct answer: <%- cor_ans %></p>
    <p> You answered: <%- ans %></p>
    <% if (ansIndex == cor_ansIndex) { correct++; } %>
    </div>
  <% } %>
  <p>Score: <%- correct %>/<%- total %></p>

</script>

<script id="user_template" type="text/template" class="template">

  <h2>Hello <%- rc.user.username %>, this is your profile page.</h2>

  <% if (rc.user.quizzes.length != 0) { %>
    <% _.each(_.sortBy(rc.user.quizzes, function(q){return q.timestamp;}), function ( quiz ) { %>
      <div class="quiz-entry">
        <a href="#" onclick="showQuiz(<%- quiz.id %>);"><%- _.find(rc.quizzes, function(q){return q.id == quiz.id;}).name %></a> (<span>Best score: <%- quiz.best_score %></span> &bull; <span>Attempts: <%- quiz.attempts %></span>)
      </div>
  <% }); } %>


</script>
